<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Convert species' occurrences into a presence-absence matrix based
 on a user-defined grid."><title>Create a presence-absence matrix based on species' point occurrences — lets.presab.points • letsR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a presence-absence matrix based on species' point occurrences — lets.presab.points"><meta property="og:description" content="Convert species' occurrences into a presence-absence matrix based
 on a user-defined grid."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">letsR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/A-guide-to-transform-species-distributions-into-a-presence-absence-matrix-based.html">A guide to transform species distributions into a presence absence matrix based on a user-defined grid in R</a>
    <a class="dropdown-item" href="../articles/Adding-variables-to-a-presenceabsence-object.html">Adding variables to a PresenceAbsence object</a>
    <a class="dropdown-item" href="../articles/cropping-and-subseting-your-presence-absence-matrix.html">Cropping and subseting your presence absence matrix</a>
    <a class="dropdown-item" href="../articles/mapping-species-traits.html">Mapping species traits: community level analysis</a>
    <a class="dropdown-item" href="../articles/save-load-presenceabsence.html">How to save and load a PresenceAbsence object</a>
    <a class="dropdown-item" href="../articles/species-level-macroecological-analysis.html">Macroecological analysis at the species level</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/macroecology/letsR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a presence-absence matrix based on species' point occurrences</h1>
      <small class="dont-index">Source: <a href="https://github.com/macroecology/letsR/blob/HEAD/R/lets_presab_points.R" class="external-link"><code>R/lets_presab_points.R</code></a></small>
      <div class="d-none name"><code>lets.presab.points.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert species' occurrences into a presence-absence matrix based
 on a user-defined grid.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lets.presab.points</span><span class="op">(</span></span>
<span>  <span class="va">xy</span>,</span>
<span>  <span class="va">species</span>,</span>
<span>  xmn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xmx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ymn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ymx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  remove.cells <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove.sp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.matrix <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  crs <span class="op">=</span> <span class="st">"+proj=longlat +datum=WGS84"</span>,</span>
<span>  count <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>xy</dt>
<dd><p>A matrix with geographic coordinates of species occurrences, first
column is the longitude (or x), and the second latitude (or y).</p></dd>


<dt>species</dt>
<dd><p>Character vector with species names, in the same order as the
coordinates.</p></dd>


<dt>xmn</dt>
<dd><p>Minimum longitude used to construct the grid in which the matrix
will be based (i.e. the [gridded] geographic domain of interest).
If NULL, limits will be calculated based on the limits of the shapes object.</p></dd>


<dt>xmx</dt>
<dd><p>Maximum longitude used to construct the grid in which the matrix
will be based (i.e. the [gridded] geographic domain of interest). 
If NULL, limits will be calculated based on the limits of the shapes object.</p></dd>


<dt>ymn</dt>
<dd><p>Minimum latitude used to construct the grid in which the matrix
will be based (i.e. the [gridded] geographic domain of interest).
If NULL, limits will be calculated based on the limits of the shapes object.</p></dd>


<dt>ymx</dt>
<dd><p>Maximum latitude used to construct the grid in which the matrix
will be based (i.e. the [gridded] geographic domain of interest).
If NULL, limits will be calculated based on the limits of the shapes object.</p></dd>


<dt>resol</dt>
<dd><p>Numeric vector of length 1 or 2 to set the grid resolution. 
If NULL, resolution will be equivalent to 1 degree of latitude and longitude.</p></dd>


<dt>remove.cells</dt>
<dd><p>Logical, if <code>TRUE</code> the final matrix will not contain
cells in the grid with a value of zero (i.e. sites with no species present).</p></dd>


<dt>remove.sp</dt>
<dd><p>Logical, if <code>TRUE</code> the final matrix will not contain
species that do not match any cell in the grid.</p></dd>


<dt>show.matrix</dt>
<dd><p>Logical, if <code>TRUE</code> only the presence-absence matrix
will be returned.</p></dd>


<dt>crs</dt>
<dd><p>Character representing the PROJ.4 type description of a Coordinate
Reference System (map projection) of the polygons.</p></dd>


<dt>count</dt>
<dd><p>Logical, if <code>TRUE</code> a progress bar indicating the processing 
progress will be shown.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The result is a list object of class <code><a href="PresenceAbsence.html">PresenceAbsence</a></code></p>


<p>with the following objects: <strong>Presence-Absence Matrix</strong>: A matrix of
 species' presence(1) and absence(0) information. The first two columns
 contain the longitude (x) and latitude (y) of the cells' centroid (from the
 gridded domain used); <strong>Richness Raster</strong>: A raster containing species
 richness data; <strong>Species name</strong>: A character vector with species' names
 contained in the matrix.
*But see the optional argument <code>show.matrix</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function creates the presence-absence matrix based on a raster
 file. Depending on the cell size, extension used and number of species it
 may require a lot of memory, and may take some time to process it. Thus,
 during the process, if <code>count</code> argument is set <code>TRUE</code>, a counting
 window will open so you can see the progress (i.e. in what polygon the
 function is working). Note that the number of polygons is not the same as
 the number of species that you have (i.e. a species may have more than one
 polygon/shapefiles).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.PresenceAbsence.html">plot.PresenceAbsence</a></code></p>
<p><code><a href="lets.presab.birds.html">lets.presab.birds</a></code></p>
<p><code><a href="lets.presab.html">lets.presab</a></code></p>
<p><code><a href="lets.shFilter.html">lets.shFilter</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Bruno Vilela &amp; Fabricio Villalobos</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"sp1"</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"sp2"</span>, <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"sp3"</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"sp4"</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">400</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">69</span>, max <span class="op">=</span> <span class="op">-</span><span class="fl">51</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">400</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">23</span>, max <span class="op">=</span> <span class="op">-</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">PAM</span> <span class="op">&lt;-</span> <span class="fu">lets.presab.points</span><span class="op">(</span><span class="va">xy</span>, <span class="va">species</span>, xmn <span class="op">=</span> <span class="op">-</span><span class="fl">93</span>, xmx <span class="op">=</span> <span class="op">-</span><span class="fl">29</span>,</span></span>
<span class="r-in"><span>                          ymn <span class="op">=</span> <span class="op">-</span><span class="fl">57</span>, ymx <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">PAM</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Species richness map</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">PAM</span>, xlab <span class="op">=</span> <span class="st">"Longitude"</span>, ylab <span class="op">=</span> <span class="st">"Latitude"</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="st">"Species richness map (simulated)"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Map of the specific species</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">PAM</span>, name <span class="op">=</span> <span class="st">"sp1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Vilela, Fabricio Villalobos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

